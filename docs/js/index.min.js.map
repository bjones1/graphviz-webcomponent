{"version":3,"file":"index.min.js","sources":["prism-core.js","prism-line-numbers.js","prism-match-braces.js","prism-graphviz.js","index.js","../node_modules/.pnpm/codejar@3.0.0/node_modules/codejar/codejar.js"],"sourcesContent":["var _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\tutil: {\n\t\tencode: function encode(tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvar clone, id, type = _.util.type(o);\n\t\t\tvisited = visited || {};\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = {};\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\to.forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document) {\n\t\t\t\treturn document.currentScript;\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need an object and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n      selector: Prism.codeTag + '[class*=\"language-\"], [class*=\"language-\"] ' +\n        Prism.codeTag + ', ' + Prism.codeTag + '[class*=\"lang-\"], [class*=\"lang-\"] ' + Prism.codeTag\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentNode;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\ttokenize: function(text, grammar) {\n\t\tvar rest = grammar.rest;\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\tvar tokenList = new LinkedList();\n\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\treturn toArray(tokenList);\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n\n_self.Prism = _;\n\nfunction Token(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length|0;\n\tthis.greedy = !!greedy;\n}\n\nToken.stringify = function stringify(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\tif (Array.isArray(o)) {\n\t\tvar s = '';\n\t\to.forEach(function (e) {\n\t\t\ts += stringify(e, language);\n\t\t});\n\t\treturn s;\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tvar aliases = o.alias;\n\tif (aliases) {\n\t\tif (Array.isArray(aliases)) {\n\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t} else {\n\t\t\tenv.classes.push(aliases);\n\t\t}\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = '';\n\tfor (var name in env.attributes) {\n\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n};\n\n/**\n * @param {string} text\n * @param {LinkedList<string | Token>} tokenList\n * @param {any} grammar\n * @param {LinkedListNode<string | Token>} startNode\n * @param {number} startPos\n * @param {boolean} [oneshot=false]\n * @param {string} [target]\n */\nfunction matchGrammar(text, tokenList, grammar, startNode, startPos, oneshot, target) {\n\tfor (var token in grammar) {\n\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar patterns = grammar[token];\n\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\tif (target && target == token + ',' + j) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar pattern = patterns[j],\n\t\t\t\tinside = pattern.inside,\n\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\tlookbehindLength = 0,\n\t\t\t\talias = pattern.alias;\n\n\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\tvar flags = pattern.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + 'g');\n\t\t\t}\n\n\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t) {\n\n\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\n\t\t\t\tif (greedy && currentNode != tokenList.tail.prev) {\n\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t}\n\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\tpos = p;\n\n\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\tfor (\n\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\tk !== tokenList.tail && (p < to || (typeof k.value === 'string' && !k.prev.value.greedy));\n\t\t\t\t\t\tk = k.next\n\t\t\t\t\t) {\n\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t}\n\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t// replace with the new match\n\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t} else {\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str);\n\t\t\t\t}\n\n\t\t\t\tif (!match) {\n\t\t\t\t\tif (oneshot) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (lookbehind) {\n\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t}\n\n\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\tmatch = match[0].slice(lookbehindLength),\n\t\t\t\t\tto = from + match.length,\n\t\t\t\t\tbefore = str.slice(0, from),\n\t\t\t\t\tafter = str.slice(to);\n\n\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\tif (before) {\n\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\tpos += before.length;\n\t\t\t\t}\n\n\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(match, inside) : match, alias, match, greedy);\n\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\tif (after) {\n\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t}\n\n\n\t\t\t\tif (removeCount > 1)\n\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, true, token + ',' + j);\n\n\t\t\t\tif (oneshot)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @typedef LinkedListNode\n * @property {T} value\n * @property {LinkedListNode<T> | null} prev The previous node.\n * @property {LinkedListNode<T> | null} next The next node.\n * @template T\n */\n\n/**\n * @template T\n */\nfunction LinkedList() {\n\t/** @type {LinkedListNode<T>} */\n\tvar head = { value: null, prev: null, next: null };\n\t/** @type {LinkedListNode<T>} */\n\tvar tail = { value: null, prev: head, next: null };\n\thead.next = tail;\n\n\t/** @type {LinkedListNode<T>} */\n\tthis.head = head;\n\t/** @type {LinkedListNode<T>} */\n\tthis.tail = tail;\n\tthis.length = 0;\n}\n\n/**\n * Adds a new node with the given value to the list.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {T} value\n * @returns {LinkedListNode<T>} The added node.\n * @template T\n */\nfunction addAfter(list, node, value) {\n\t// assumes that node != list.tail && values.length >= 0\n\tvar next = node.next;\n\n\tvar newNode = { value: value, prev: node, next: next };\n\tnode.next = newNode;\n\tnext.prev = newNode;\n\tlist.length++;\n\n\treturn newNode;\n}\n/**\n * Removes `count` nodes after the given node. The given node will not be removed.\n * @param {LinkedList<T>} list\n * @param {LinkedListNode<T>} node\n * @param {number} count\n * @template T\n */\nfunction removeRange(list, node, count) {\n\tvar next = node.next;\n\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\tnext = next.next;\n\t}\n\tnode.next = next;\n\tnext.prev = node;\n\tlist.length -= i;\n}\n/**\n * @param {LinkedList<T>} list\n * @returns {T[]}\n * @template T\n */\nfunction toArray(list) {\n\tvar array = [];\n\tvar node = list.head.next;\n\twhile (node !== list.tail) {\n\t\tarray.push(node.value);\n\t\tnode = node.next;\n\t}\n\treturn array;\n}\n\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n//Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nfunction highlightAutomaticallyCallback() {\n\tif (!_.manual) {\n\t\t_.highlightAll();\n\t}\n}\n\nif (!_.manual) {\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n","(function () {\n\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Plugin name which is used as a class name for <pre> which is activating the plugin\n\t * @type {String}\n\t */\n\tvar PLUGIN_NAME = 'line-numbers';\n\n\t/**\n\t * Regular expression used for determining line breaks\n\t * @type {RegExp}\n\t */\n\tvar NEW_LINE_EXP = /\\n(?!$)/g;\n\n\t/**\n\t * Resizes line numbers spans according to height of line of code\n\t * @param {Element} element <pre> element\n\t */\n\tvar _resizeElement = function (element) {\n\t\tvar codeStyles = getStyles(element);\n\t\tvar whiteSpace = codeStyles['white-space'];\n\n\t\tif (whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line') {\n\t\t\tvar codeElement = element.querySelector(Prism.codeTag);\n\t\t\tvar lineNumbersWrapper = element.querySelector('.line-numbers-rows');\n\t\t\tvar lineNumberSizer = element.querySelector('.line-numbers-sizer');\n\t\t\tvar codeLines = codeElement.textContent.split(NEW_LINE_EXP);\n\n\t\t\tif (!lineNumberSizer) {\n\t\t\t\tlineNumberSizer = document.createElement('span');\n\t\t\t\tlineNumberSizer.className = 'line-numbers-sizer';\n\n\t\t\t\tcodeElement.appendChild(lineNumberSizer);\n\t\t\t}\n\n\t\t\tlineNumberSizer.style.display = 'block';\n\n\t\t\tcodeLines.forEach(function (line, lineNumber) {\n\t\t\t\tlineNumberSizer.textContent = line || '\\n';\n\t\t\t\tvar lineSize = lineNumberSizer.getBoundingClientRect().height;\n\t\t\t\tlineNumbersWrapper.children[lineNumber].style.height = lineSize + 'px';\n\t\t\t});\n\n\t\t\tlineNumberSizer.textContent = '';\n\t\t\tlineNumberSizer.style.display = 'none';\n\t\t}\n\t};\n\n\t/**\n\t * Returns style declarations for the element\n\t * @param {Element} element\n\t */\n\tvar getStyles = function (element) {\n\t\tif (!element) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);\n\t};\n\n\twindow.addEventListener('resize', function () {\n\t\tArray.prototype.forEach.call(document.querySelectorAll('pre.' + PLUGIN_NAME), _resizeElement);\n\t});\n\n\tPrism.hooks.add('complete', function (env) {\n\t\tif (!env.code) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar code = env.element;\n\t\tvar pre = code.parentNode;\n\n\t\t// works only for <code> wrapped inside <pre> (not inline)\n\t\tif (!pre || !/pre/i.test(pre.nodeName)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if line numbers already exists\n\t\tif (code.querySelector('.line-numbers-rows')) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar addLineNumbers = false;\n\t\tvar lineNumbersRegex = /(?:^|\\s)line-numbers(?:\\s|$)/;\n\n\t\tfor (var element = code; element; element = element.parentNode) {\n\t\t\tif (lineNumbersRegex.test(element.className)) {\n\t\t\t\taddLineNumbers = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// only add line numbers if <code> or one of its ancestors has the `line-numbers` class\n\t\tif (!addLineNumbers) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove the class 'line-numbers' from the <code>\n\t\tcode.className = code.className.replace(lineNumbersRegex, ' ');\n\t\t// Add the class 'line-numbers' to the <pre>\n\t\tif (!lineNumbersRegex.test(pre.className)) {\n\t\t\tpre.className += ' line-numbers';\n\t\t}\n\n\t\tvar match = env.code.match(NEW_LINE_EXP);\n\t\tvar linesNum = match ? match.length + 1 : 1;\n\t\tvar lineNumbersWrapper;\n\n\t\tvar lines = new Array(linesNum + 1).join('<span></span>');\n\n\t\tlineNumbersWrapper = document.createElement('span');\n\t\tlineNumbersWrapper.setAttribute('aria-hidden', 'true');\n\t\tlineNumbersWrapper.className = 'line-numbers-rows';\n\t\tlineNumbersWrapper.innerHTML = lines;\n\n\t\tif (pre.hasAttribute('data-start')) {\n\t\t\tpre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);\n\t\t}\n\n\t\tenv.element.appendChild(lineNumbersWrapper);\n\n\t\t_resizeElement(pre);\n\n\t\tPrism.hooks.run('line-numbers', env);\n\t});\n\n\tPrism.hooks.add('line-numbers', function (env) {\n\t\tenv.plugins = env.plugins || {};\n\t\tenv.plugins.lineNumbers = true;\n\t});\n\n\t/**\n\t * Global exports\n\t */\n\tPrism.plugins.lineNumbers = {\n\t\t/**\n\t\t * Update line numbers after resizing the text area by mouse\n\t\t * @param {Element} element pre element\n\t\t * @return {undefined}\n\t\t */\n    updateLineNumbers: function(element) {\n      _resizeElement(element);\n    },\n\t\t/**\n\t\t * Get node for provided line number\n\t\t * @param {Element} element pre element\n\t\t * @param {Number} number line number\n\t\t * @return {Element|undefined}\n\t\t */\n\t\tgetLine: function (element, number) {\n\t\t\tif (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar lineNumberRows = element.querySelector('.line-numbers-rows');\n\t\t\tvar lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;\n\t\t\tvar lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);\n\n\t\t\tif (number < lineNumberStart) {\n\t\t\t\tnumber = lineNumberStart;\n\t\t\t}\n\t\t\tif (number > lineNumberEnd) {\n\t\t\t\tnumber = lineNumberEnd;\n\t\t\t}\n\n\t\t\tvar lineIndex = number - lineNumberStart;\n\n\t\t\treturn lineNumberRows.children[lineIndex];\n\t\t}\n\t};\n\n}());\n","(function () {\n\n\tif (typeof self === 'undefined' || !self.Prism || !self.document) {\n\t\treturn;\n\t}\n\n\tvar MATCH_ALL_CLASS = /(?:^|\\s)match-braces(?:\\s|$)/;\n\n\tvar BRACE_HOVER_CLASS = /(?:^|\\s)brace-hover(?:\\s|$)/;\n\tvar BRACE_SELECTED_CLASS = /(?:^|\\s)brace-selected(?:\\s|$)/;\n\n\tvar NO_BRACE_HOVER_CLASS = /(?:^|\\s)no-brace-hover(?:\\s|$)/;\n\tvar NO_BRACE_SELECT_CLASS = /(?:^|\\s)no-brace-select(?:\\s|$)/;\n\n\tvar PARTNER = {\n\t\t'(': ')',\n\t\t'[': ']',\n\t\t'{': '}',\n\t};\n\n\tvar NAMES = {\n\t\t'(': 'brace-round',\n\t\t'[': 'brace-square',\n\t\t'{': 'brace-curly',\n\t};\n\n\tvar LEVEL_WARP = 12;\n\n\tvar pairIdCounter = 0;\n\n\tvar BRACE_ID_PATTERN = /^(pair-\\d+-)(open|close)$/;\n\n\t/**\n\t * Returns the brace partner given one brace of a brace pair.\n\t *\n\t * @param {HTMLElement} brace\n\t * @returns {HTMLElement}\n\t */\n\tfunction getPartnerBrace(brace) {\n\t\tvar match = BRACE_ID_PATTERN.exec(brace.id);\n\t\treturn document.querySelector('#' + match[1] + (match[2] == 'open' ? 'close' : 'open'));\n\t}\n\n\t/**\n\t * @this {HTMLElement}\n\t */\n\tfunction hoverBrace() {\n\t\tfor (var parent = this.parentElement; parent; parent = parent.parentElement) {\n\t\t\tif (NO_BRACE_HOVER_CLASS.test(parent.className)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t[this, getPartnerBrace(this)].forEach(function (ele) {\n\t\t\tele.className = (ele.className.replace(BRACE_HOVER_CLASS, ' ') + ' brace-hover').replace(/\\s+/g, ' ');\n\t\t});\n\t}\n\t/**\n\t * @this {HTMLElement}\n\t */\n\tfunction leaveBrace() {\n\t\t[this, getPartnerBrace(this)].forEach(function (ele) {\n\t\t\tele.className = ele.className.replace(BRACE_HOVER_CLASS, ' ');\n\t\t});\n\t}\n\t/**\n\t * @this {HTMLElement}\n\t */\n\tfunction clickBrace() {\n\t\tfor (var parent = this.parentElement; parent; parent = parent.parentElement) {\n\t\t\tif (NO_BRACE_SELECT_CLASS.test(parent.className)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t[this, getPartnerBrace(this)].forEach(function (ele) {\n\t\t\tele.className = (ele.className.replace(BRACE_SELECTED_CLASS, ' ') + ' brace-selected').replace(/\\s+/g, ' ');\n\t\t});\n\t}\n\n\tPrism.hooks.add('complete', function (env) {\n\n\t\t/** @type {HTMLElement} */\n\t\tvar code = env.element;\n\t\tvar pre = code.parentElement;\n\n\t\tif (!pre || pre.tagName != 'PRE') {\n\t\t\treturn;\n\t\t}\n\n\t\t// find the braces to match\n\t\t/** @type {string[]} */\n\t\tvar toMatch = [];\n\t\tfor (var ele = code; ele; ele = ele.parentElement) {\n\t\t\tif (MATCH_ALL_CLASS.test(ele.className)) {\n\t\t\t\ttoMatch.push('(', '[', '{');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (toMatch.length == 0) {\n\t\t\t// nothing to match\n\t\t\treturn;\n\t\t}\n\n\t\tif (!pre.__listenerAdded) {\n\t\t\t// code blocks might be highlighted more than once\n\t\t\tpre.addEventListener('mousedown', function removeBraceSelected() {\n\t\t\t\t// the code element might have been replaced\n\t\t\t\tvar code = pre.querySelector(Prism.codeTag);\n\t\t\t\tArray.prototype.slice.call(code.querySelectorAll('.brace-selected')).forEach(function (element) {\n\t\t\t\t\telement.className = element.className.replace(BRACE_SELECTED_CLASS, ' ');\n\t\t\t\t});\n\t\t\t});\n\t\t\tObject.defineProperty(pre, '__listenerAdded', { value: true });\n\t\t}\n\n\t\t/** @type {HTMLSpanElement[]} */\n\t\tvar punctuation = Array.prototype.slice.call(code.querySelectorAll('span.token.punctuation'));\n\n\t\t/** @type {{ index: number, open: boolean, element: HTMLElement }[]} */\n\t\tvar allBraces = [];\n\n\t\ttoMatch.forEach(function (open) {\n\t\t\tvar close = PARTNER[open];\n\t\t\tvar name = NAMES[open];\n\n\t\t\t/** @type {[number, number][]} */\n\t\t\tvar pairs = [];\n\t\t\t/** @type {number[]} */\n\t\t\tvar openStack = [];\n\n\t\t\tfor (var i = 0; i < punctuation.length; i++) {\n\t\t\t\tvar element = punctuation[i];\n\t\t\t\tif (element.childElementCount == 0) {\n\t\t\t\t\tvar text = element.textContent;\n\t\t\t\t\tif (text === open) {\n\t\t\t\t\t\tallBraces.push({ index: i, open: true, element: element });\n\t\t\t\t\t\telement.className += ' ' + name;\n\t\t\t\t\t\telement.className += ' brace-open';\n\t\t\t\t\t\topenStack.push(i);\n\t\t\t\t\t} else if (text === close) {\n\t\t\t\t\t\tallBraces.push({ index: i, open: false, element: element });\n\t\t\t\t\t\telement.className += ' ' + name;\n\t\t\t\t\t\telement.className += ' brace-close';\n\t\t\t\t\t\tif (openStack.length) {\n\t\t\t\t\t\t\tpairs.push([i, openStack.pop()]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpairs.forEach(function (pair) {\n\t\t\t\tvar pairId = 'pair-' + (pairIdCounter++) + '-';\n\n\t\t\t\tvar openEle = punctuation[pair[0]];\n\t\t\t\tvar closeEle = punctuation[pair[1]];\n\n\t\t\t\topenEle.id = pairId + 'open';\n\t\t\t\tcloseEle.id = pairId + 'close';\n\n\t\t\t\t[openEle, closeEle].forEach(function (ele) {\n\t\t\t\t\tele.addEventListener('mouseenter', hoverBrace);\n\t\t\t\t\tele.addEventListener('mouseleave', leaveBrace);\n\t\t\t\t\tele.addEventListener('click', clickBrace);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tvar level = 0;\n\t\tallBraces.sort(function (a, b) { return a.index - b.index; });\n\t\tallBraces.forEach(function (brace) {\n\t\t\tif (brace.open) {\n\t\t\t\tbrace.element.className += ' brace-level-' + (level % LEVEL_WARP + 1);\n\t\t\t\tlevel++;\n\t\t\t} else {\n\t\t\t\tlevel = Math.max(0, level - 1);\n\t\t\t\tbrace.element.className += ' brace-level-' + (level % LEVEL_WARP + 1);\n\t\t\t}\n\t\t});\n\n\t});\n\n}());\n","/* global Prism */\n\nPrism.languages.graphviz = {\n  comment: [{\n    pattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n    greedy: true\n  }, {\n    pattern: /(^|[^\\\\:])\\/\\/.*/,\n    lookbehind: !0,\n    greedy: !0\n  }],\n  string: {\n    pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n    greedy: !0\n  },\n  'class-name': {\n    pattern: /(\\b(?:digraph|graph)\\s+)\\w+/,\n    lookbehind: true\n  },\n  keyword: /\\b(?:digraph|graph|node|edge)\\b/,\n  property: /\\b(?:Damping|URL|area|arrowhead|arrowsize|arrowtail|aspect|bb|bgcolor|center|charset|clusterrank|color|colorscheme|comment|compound|concentrate|constraint|decorate|defaultdist|dim|dimen|dir|diredgeconstraints|distortion|dpi|edgeURL|edgehref|edgetarget|edgetooltip|epsilon|esep|fillcolor|fixedsize|fontcolor|fontname|fontnames|fontpath|fontsize|group|headURL|headclip|headhref|headlabel|headport|headtarget|headtooltip|height|href|id|image|imagepath|imagescale|label|labelURL|labelangle|labeldistance|labelfloat|labelfontcolor|labelfontname|labelfontsize|labelhref|labeljust|labelloc|labeltarget|labeltooltip|landscape|layer|layerlistsep|layers|layerselect|layersep|layout|len|levels|levelsgap|lhead|lheight|lp|ltail|lwidth|margin|maxiter|mclimit|mindist|minlen|mode|model|mosek|nodesep|nojustify|normalize|nslimit|nslimit1|ordering|orientation|outputorder|overlap|overlap_scaling|pack|packmode|pad|page|pagedir|pencolor|penwidth|peripheries|pin|pos|quadtree|quantum|rank|rankdir|ranksep|ratio|rects|regular|remincross|repulsiveforce|resolution|root|rotate|rotation|samehead|sametail|samplepoints|scale|searchsize|sep|shape|shapefile|showboxes|sides|size|skew|smoothing|sortv|splines|start|style|stylesheet|tail_lp|tailURL|tailclip|tailhref|taillabel|tailport|tailtarget|tailtooltip|target|tooltip|truecolor|vertices|viewport|voro_margin|weight|width|xlabel)\\b/,\n  constant: /\\b(?:dot|neato|fdp|sfdp|twopi|circo|osage|patchwork|LR|RL|TB|BT|box|polygon|ellipse|oval|circle|point|egg|triangle|plaintext|plain|diamond|trapezium|parallelogram|house|pentagon|hexagon|septagon|octagon|doublecircle|doubleoctagon|tripleoctagon|invtriangle|invtrapezium|invhouse|Mdiamond|Msquare|Mcircle|rect|rectangle|square|star|none|underline|cylinder|note|tab|folder|box3d|component|promoter|cds|terminator|utr|primersite|restrictionsite|fivepoverhang|threepoverhang|noverhang|assembly|signature|insulator|ribosite|rnastab|proteasesite|proteinstab|rpromoter|rarrow|larrow|lpromoter|solid|dashed|dotted|bold|rounded|diagonals|filled|striped|wedged)\\b/,\n  boolean: /\\b(?:true|yes|false|no)\\b/,\n  number: /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n  operator: /->|--|=/,\n  punctuation: /[{}[\\];(),.:]/\n}\n","/* global Prism */\n\nimport './prism-core.js'\nimport './prism-line-numbers.js'\nimport './prism-match-braces.js'\nimport './prism-graphviz.js'\nimport { CodeJar } from 'codejar'\n\nPrism.codeTag = 'div'\n\nconst sourceWrapper = document.getElementById('source-wrapper')\nconst source = document.getElementById('source')\nconst graph = document.getElementById('graph')\nconst saveSVG = document.getElementById('save-svg')\nconst savePNG = document.getElementById('save-png')\nconst saveSource = document.getElementById('save-source')\nconst svgSizeRegExp = new RegExp('<svg width=\"(\\\\d+)pt\" height=\"(\\\\d+)pt\"')\nconst jar = CodeJar(source, Prism.highlightElement, { tab: '  ' })\nlet svg, png, lastError, pendingUpdate, runningUpdate, remainingError\n\ngraph.graph = jar.toString()\n\nfunction convertSVGToPNG () {\n  return new Promise((resolve, reject) => {\n    const size = svgSizeRegExp.exec(svg)\n    if (!size) throw new Error('Unknown SVG size.')\n    const canvas = document.createElement('canvas')\n    canvas.width = size[1] / 0.75\n    canvas.height = size[2] / 0.75\n    const context = canvas.getContext('2d')\n    const image = document.createElement('img')\n    image.onload = () => {\n      try {\n        context.drawImage(image, 0, 0)\n        canvas.toBlob(resolve)\n      } catch (error) {\n        reject(error)\n      }\n    }\n    image.onerror = () => reject(new Error('PNG conversion failed.'))\n    image.src = `data:image/svg+xml;base64,${btoa(svg)}`\n  })\n}\n\nasync function rememberImage ({ detail }) {\n  runningUpdate = false\n  lastError = undefined\n  svg = detail\n  saveSVG.disabled = false\n  try {\n    png = await convertSVGToPNG()\n    savePNG.disabled = false\n  } catch ({ message }) {\n    alert(message)\n  }\n}\n\nfunction forgetImage () {\n  svg = png = runningUpdate = lastError = undefined\n  saveSVG.disabled = savePNG.disabled = true\n}\n\nfunction downloadFile (blob) {\n  const link = document.createElement('a')\n  const type = blob.type\n  link.download = type === 'image/png' ? 'graph.png'\n    : type === 'image/svg+xml' ? 'graph.svg' : 'graph.dot'\n  document.body.appendChild(link)\n  const url = URL.createObjectURL(blob)\n  link.href = url\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\nfunction displayError () {\n  clearTimeout(remainingError)\n  remainingError = undefined\n  if (pendingUpdate || runningUpdate || !lastError) return\n  graph.graph = jar.toString()\n}\n\nfunction scheduleDisplayError () {\n  if (remainingError) clearTimeout(remainingError)\n  remainingError = setTimeout(displayError, 300)\n}\n\nasync function tryUpdateGraph () {\n  if (runningUpdate) return scheduleUpdateGraph()\n  clearTimeout(pendingUpdate)\n  pendingUpdate = undefined\n  runningUpdate = true\n  lastError = undefined\n  const value = jar.toString()\n  if (value) {\n    try {\n      await graph.tryGraph(value)\n    } catch (error) {\n      runningUpdate = false\n      lastError = error\n      scheduleDisplayError()\n    }\n  } else {\n    graph.graph = value\n    forgetImage()\n  }\n}\n\nfunction scheduleUpdateGraph () {\n  if (pendingUpdate) clearTimeout(pendingUpdate)\n  pendingUpdate = setTimeout(tryUpdateGraph, 300)\n}\n\nfunction saveAsSVG () {\n  downloadFile(new Blob([svg], { type: 'image/svg+xml' }))\n}\n\nfunction saveAsPNG () {\n  downloadFile(png)\n}\n\nfunction saveAsText () {\n  downloadFile(new Blob([graph.graph], { type: 'text/plain' }))\n}\n\nlet width = sourceWrapper.clientWidth\nlet height = sourceWrapper.clientHeight\n\nfunction updateLineNumbers () {\n  const newWidth = sourceWrapper.clientWidth\n  const newHeight = sourceWrapper.clientHeight\n  if (newWidth !== width || newHeight !== height) {\n    Prism.plugins.lineNumbers.updateLineNumbers(sourceWrapper)\n    width = newWidth\n    height = newHeight\n  }\n}\n\njar.onUpdate(scheduleUpdateGraph)\ngraph.addEventListener('render', rememberImage)\ngraph.addEventListener('error', forgetImage)\nsaveSVG.addEventListener('click', saveAsSVG)\nsavePNG.addEventListener('click', saveAsPNG)\nsaveSource.addEventListener('click', saveAsText)\nsourceWrapper.addEventListener('mouseup', updateLineNumbers)\n","export function CodeJar(editor, highlight, opt = {}) {\n    const options = Object.assign({ tab: \"\\t\" }, opt);\n    let listeners = [];\n    let history = [];\n    let at = -1;\n    let focus = false;\n    let callback;\n    let prev; // code content prior keydown event\n    let isFirefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n    editor.setAttribute(\"contentEditable\", isFirefox ? \"true\" : \"plaintext-only\");\n    editor.setAttribute(\"spellcheck\", \"false\");\n    editor.style.outline = \"none\";\n    editor.style.overflowWrap = \"break-word\";\n    editor.style.overflowY = \"auto\";\n    editor.style.resize = \"vertical\";\n    editor.style.whiteSpace = \"pre-wrap\";\n    highlight(editor);\n    const debounceHighlight = debounce(() => {\n        const pos = save();\n        highlight(editor);\n        restore(pos);\n    }, 30);\n    let recording = false;\n    const shouldRecord = (event) => {\n        return !isUndo(event) && !isRedo(event)\n            && event.key !== \"Meta\"\n            && event.key !== \"Control\"\n            && event.key !== \"Alt\"\n            && !event.key.startsWith(\"Arrow\");\n    };\n    const debounceRecordHistory = debounce((event) => {\n        if (shouldRecord(event)) {\n            recordHistory();\n            recording = false;\n        }\n    }, 300);\n    const on = (type, fn) => {\n        listeners.push([type, fn]);\n        editor.addEventListener(type, fn);\n    };\n    on(\"keydown\", event => {\n        if (event.defaultPrevented)\n            return;\n        prev = toString();\n        handleNewLine(event);\n        handleTabCharacters(event);\n        handleJumpToBeginningOfLine(event);\n        handleSelfClosingCharacters(event);\n        handleUndoRedo(event);\n        if (shouldRecord(event) && !recording) {\n            recordHistory();\n            recording = true;\n        }\n    });\n    on(\"keyup\", event => {\n        if (event.defaultPrevented)\n            return;\n        if (event.isComposing)\n            return;\n        if (prev !== toString())\n            debounceHighlight();\n        debounceRecordHistory(event);\n        if (callback)\n            callback(toString());\n    });\n    on(\"focus\", _event => {\n        focus = true;\n    });\n    on(\"blur\", _event => {\n        focus = false;\n    });\n    on(\"paste\", event => {\n        recordHistory();\n        handlePaste(event);\n        recordHistory();\n        if (callback)\n            callback(toString());\n    });\n    function save() {\n        const s = window.getSelection();\n        const pos = { start: 0, end: 0, dir: undefined };\n        visit(editor, el => {\n            if (el === s.anchorNode && el === s.focusNode) {\n                pos.start += s.anchorOffset;\n                pos.end += s.focusOffset;\n                pos.dir = s.anchorOffset <= s.focusOffset ? \"->\" : \"<-\";\n                return \"stop\";\n            }\n            if (el === s.anchorNode) {\n                pos.start += s.anchorOffset;\n                if (!pos.dir) {\n                    pos.dir = \"->\";\n                }\n                else {\n                    return \"stop\";\n                }\n            }\n            else if (el === s.focusNode) {\n                pos.end += s.focusOffset;\n                if (!pos.dir) {\n                    pos.dir = \"<-\";\n                }\n                else {\n                    return \"stop\";\n                }\n            }\n            if (el.nodeType === Node.TEXT_NODE) {\n                if (pos.dir != \"->\")\n                    pos.start += el.nodeValue.length;\n                if (pos.dir != \"<-\")\n                    pos.end += el.nodeValue.length;\n            }\n        });\n        return pos;\n    }\n    function restore(pos) {\n        const s = window.getSelection();\n        let startNode, startOffset = 0;\n        let endNode, endOffset = 0;\n        if (!pos.dir)\n            pos.dir = \"->\";\n        if (pos.start < 0)\n            pos.start = 0;\n        if (pos.end < 0)\n            pos.end = 0;\n        // Flip start and end if the direction reversed\n        if (pos.dir == \"<-\") {\n            const { start, end } = pos;\n            pos.start = end;\n            pos.end = start;\n        }\n        let current = 0;\n        visit(editor, el => {\n            if (el.nodeType !== Node.TEXT_NODE)\n                return;\n            const len = (el.nodeValue || \"\").length;\n            if (current + len >= pos.start) {\n                if (!startNode) {\n                    startNode = el;\n                    startOffset = pos.start - current;\n                }\n                if (current + len >= pos.end) {\n                    endNode = el;\n                    endOffset = pos.end - current;\n                    return \"stop\";\n                }\n            }\n            current += len;\n        });\n        // If everything deleted place cursor at editor\n        if (!startNode)\n            startNode = editor;\n        if (!endNode)\n            endNode = editor;\n        // Flip back the selection\n        if (pos.dir == \"<-\") {\n            [startNode, startOffset, endNode, endOffset] = [endNode, endOffset, startNode, startOffset];\n        }\n        s.setBaseAndExtent(startNode, startOffset, endNode, endOffset);\n    }\n    function beforeCursor() {\n        const s = window.getSelection();\n        const r0 = s.getRangeAt(0);\n        const r = document.createRange();\n        r.selectNodeContents(editor);\n        r.setEnd(r0.startContainer, r0.startOffset);\n        return r.toString();\n    }\n    function afterCursor() {\n        const s = window.getSelection();\n        const r0 = s.getRangeAt(0);\n        const r = document.createRange();\n        r.selectNodeContents(editor);\n        r.setStart(r0.endContainer, r0.endOffset);\n        return r.toString();\n    }\n    function handleNewLine(event) {\n        if (event.key === \"Enter\") {\n            const before = beforeCursor();\n            const after = afterCursor();\n            let [padding] = findPadding(before);\n            let newLinePadding = padding;\n            // If last symbol is \"{\" ident new line\n            if (before[before.length - 1] === \"{\") {\n                newLinePadding += options.tab;\n            }\n            if (isFirefox) {\n                preventDefault(event);\n                insert(\"\\n\" + newLinePadding);\n            }\n            else {\n                // Normal browsers\n                if (newLinePadding.length > 0) {\n                    preventDefault(event);\n                    insert(\"\\n\" + newLinePadding);\n                }\n            }\n            // Place adjacent \"}\" on next line\n            if (newLinePadding !== padding && after[0] === \"}\") {\n                const pos = save();\n                insert(\"\\n\" + padding);\n                restore(pos);\n            }\n        }\n    }\n    function handleSelfClosingCharacters(event) {\n        const open = `([{'\"`;\n        const close = `)]}'\"`;\n        const codeAfter = afterCursor();\n        if (close.includes(event.key) && codeAfter.substr(0, 1) === event.key) {\n            const pos = save();\n            preventDefault(event);\n            pos.start = ++pos.end;\n            restore(pos);\n        }\n        else if (open.includes(event.key)) {\n            const pos = save();\n            preventDefault(event);\n            const text = event.key + close[open.indexOf(event.key)];\n            insert(text);\n            pos.start = ++pos.end;\n            restore(pos);\n        }\n    }\n    function handleTabCharacters(event) {\n        if (event.key === \"Tab\") {\n            preventDefault(event);\n            if (event.shiftKey) {\n                const before = beforeCursor();\n                let [padding, start,] = findPadding(before);\n                if (padding.length > 0) {\n                    const pos = save();\n                    // Remove full length tab or just remaining padding\n                    const len = Math.min(options.tab.length, padding.length);\n                    restore({ start, end: start + len });\n                    document.execCommand(\"delete\");\n                    pos.start -= len;\n                    pos.end -= len;\n                    restore(pos);\n                }\n            }\n            else {\n                insert(options.tab);\n            }\n        }\n    }\n    function handleJumpToBeginningOfLine(event) {\n        if (event.key === \"ArrowLeft\" && event.metaKey) {\n            preventDefault(event);\n            const before = beforeCursor();\n            let [padding, start, end] = findPadding(before);\n            if (before.endsWith(padding)) {\n                if (event.shiftKey) {\n                    const pos = save();\n                    restore({ start, end: pos.end }); // Select from line start.\n                }\n                else {\n                    restore({ start, end: start }); // Jump to line start.\n                }\n            }\n            else {\n                if (event.shiftKey) {\n                    const pos = save();\n                    restore({ start: end, end: pos.end }); // Select from beginning of text.\n                }\n                else {\n                    restore({ start: end, end }); // Jump to beginning of text.\n                }\n            }\n        }\n    }\n    function handleUndoRedo(event) {\n        if (isUndo(event)) {\n            preventDefault(event);\n            at--;\n            const record = history[at];\n            if (record) {\n                editor.innerHTML = record.html;\n                restore(record.pos);\n            }\n            if (at < 0)\n                at = 0;\n        }\n        if (isRedo(event)) {\n            preventDefault(event);\n            at++;\n            const record = history[at];\n            if (record) {\n                editor.innerHTML = record.html;\n                restore(record.pos);\n            }\n            if (at >= history.length)\n                at--;\n        }\n    }\n    function recordHistory() {\n        if (!focus)\n            return;\n        const html = editor.innerHTML;\n        const pos = save();\n        const lastRecord = history[at];\n        if (lastRecord) {\n            if (lastRecord.html === html\n                && lastRecord.pos.start === pos.start\n                && lastRecord.pos.end === pos.end)\n                return;\n        }\n        at++;\n        history[at] = { html, pos };\n        history.splice(at + 1);\n        const maxHistory = 300;\n        if (at > maxHistory) {\n            at = maxHistory;\n            history.splice(0, 1);\n        }\n    }\n    function handlePaste(event) {\n        preventDefault(event);\n        const text = (event.originalEvent || event).clipboardData.getData(\"text/plain\");\n        const pos = save();\n        insert(text);\n        highlight(editor);\n        restore({ start: pos.end + text.length, end: pos.end + text.length });\n    }\n    function visit(editor, visitor) {\n        const queue = [];\n        if (editor.firstChild)\n            queue.push(editor.firstChild);\n        let el = queue.pop();\n        while (el) {\n            if (visitor(el) === \"stop\")\n                break;\n            if (el.nextSibling)\n                queue.push(el.nextSibling);\n            if (el.firstChild)\n                queue.push(el.firstChild);\n            el = queue.pop();\n        }\n    }\n    function isCtrl(event) {\n        return event.metaKey || event.ctrlKey;\n    }\n    function isUndo(event) {\n        return isCtrl(event) && !event.shiftKey && event.code === \"KeyZ\";\n    }\n    function isRedo(event) {\n        return isCtrl(event) && event.shiftKey && event.code === \"KeyZ\";\n    }\n    function insert(text) {\n        text = text\n            .replace(/&/g, \"&amp;\")\n            .replace(/</g, \"&lt;\")\n            .replace(/>/g, \"&gt;\")\n            .replace(/\"/g, \"&quot;\")\n            .replace(/'/g, \"&#039;\");\n        document.execCommand(\"insertHTML\", false, text);\n    }\n    function debounce(cb, wait) {\n        let timeout = 0;\n        return (...args) => {\n            clearTimeout(timeout);\n            timeout = window.setTimeout(() => cb(...args), wait);\n        };\n    }\n    function findPadding(text) {\n        // Find beginning of previous line.\n        let i = text.length - 1;\n        while (i >= 0 && text[i] !== \"\\n\")\n            i--;\n        i++;\n        // Find padding of the line.\n        let j = i;\n        while (j < text.length && /[ \\t]/.test(text[j]))\n            j++;\n        return [text.substring(i, j) || \"\", i, j];\n    }\n    function toString() {\n        return editor.textContent || \"\";\n    }\n    function preventDefault(event) {\n        event.preventDefault();\n    }\n    return {\n        updateOptions(options) {\n            options = Object.assign(Object.assign({}, options), options);\n        },\n        updateCode(code) {\n            editor.textContent = code;\n            highlight(editor);\n        },\n        onUpdate(cb) {\n            callback = cb;\n        },\n        toString,\n        destroy() {\n            for (let [type, fn] of listeners) {\n                editor.removeEventListener(type, fn);\n            }\n        },\n    };\n}\n"],"names":["Prism","_self","lang","uniqueId","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","type","content","alias","Array","isArray","map","replace","o","Object","prototype","toString","call","slice","objId","obj","defineProperty","value","clone","deepClone","visited","id","key","hasOwnProperty","forEach","v","i","getLanguage","element","test","className","parentElement","match","toLowerCase","currentScript","document","Error","err","src","exec","stack","scripts","getElementsByTagName","languages","extend","redef","insertBefore","inside","before","insert","root","grammar","ret","token","newToken","old","DFS","this","callback","property","propertyType","plugins","highlightAll","async","highlightAllUnder","container","env","selector","codeTag","hooks","run","elements","apply","querySelectorAll","highlightElement","language","parent","parentNode","nodeName","code","textContent","insertHighlightedCode","highlightedCode","innerHTML","Worker","worker","filename","onmessage","evt","data","postMessage","JSON","stringify","immediateClose","highlight","text","tokenize","rest","tokenList","LinkedList","addAfter","head","matchGrammar","startNode","startPos","oneshot","target","patterns","j","length","pattern","lookbehind","greedy","lookbehindLength","global","flags","RegExp","source","currentNode","next","pos","tail","str","removeCount","prev","lastIndex","from","index","to","p","k","after","removeFrom","removeRange","wrapped","list","array","node","push","toArray","all","add","name","callbacks","matchedStr","newNode","count","s","e","tag","classes","attributes","aliases","join","addEventListener","message","parse","close","script","highlightAutomaticallyCallback","hasAttribute","readyState","defer","window","requestAnimationFrame","setTimeout","WorkerGlobalScope","self","module","exports","NEW_LINE_EXP","_resizeElement","whiteSpace","getStyles","codeElement","querySelector","lineNumbersWrapper","lineNumberSizer","codeLines","split","createElement","appendChild","style","display","line","lineNumber","lineSize","getBoundingClientRect","height","children","getComputedStyle","currentStyle","pre","addLineNumbers","lineNumbersRegex","linesNum","lines","setAttribute","counterReset","parseInt","getAttribute","lineNumbers","updateLineNumbers","getLine","number","tagName","classList","contains","lineNumberRows","lineNumberStart","lineNumberEnd","lineIndex","MATCH_ALL_CLASS","BRACE_HOVER_CLASS","BRACE_SELECTED_CLASS","NO_BRACE_HOVER_CLASS","NO_BRACE_SELECT_CLASS","PARTNER","(","[","{","NAMES","pairIdCounter","BRACE_ID_PATTERN","toMatch","ele","__listenerAdded","punctuation","allBraces","open","pairs","openStack","childElementCount","pop","pair","pairId","openEle","closeEle","hoverBrace","leaveBrace","clickBrace","level","sort","a","b","brace","Math","max","getPartnerBrace","graphviz","comment","string","class-name","keyword","constant","boolean","operator","sourceWrapper","getElementById","graph","saveSVG","savePNG","saveSource","svgSizeRegExp","jar","editor","opt","options","assign","tab","listeners","history","at","focus","isFirefox","navigator","userAgent","indexOf","outline","overflowWrap","overflowY","resize","debounceHighlight","debounce","save","restore","recording","shouldRecord","event","isUndo","isRedo","startsWith","debounceRecordHistory","recordHistory","on","fn","getSelection","start","end","dir","undefined","visit","el","anchorNode","focusNode","anchorOffset","focusOffset","nodeType","Node","TEXT_NODE","nodeValue","endNode","startOffset","endOffset","current","len","setBaseAndExtent","beforeCursor","r0","getRangeAt","r","createRange","selectNodeContents","setEnd","startContainer","afterCursor","setStart","endContainer","html","lastRecord","splice","visitor","queue","firstChild","nextSibling","isCtrl","metaKey","ctrlKey","shiftKey","execCommand","cb","wait","timeout","args","clearTimeout","findPadding","substring","preventDefault","defaultPrevented","padding","newLinePadding","handleNewLine","min","handleTabCharacters","endsWith","handleJumpToBeginningOfLine","codeAfter","includes","substr","handleSelfClosingCharacters","record","handleUndoRedo","isComposing","_event","originalEvent","clipboardData","getData","handlePaste","[object Object]","removeEventListener","CodeJar","svg","png","lastError","pendingUpdate","runningUpdate","remainingError","forgetImage","disabled","downloadFile","blob","link","download","body","url","URL","createObjectURL","href","click","removeChild","revokeObjectURL","displayError","tryUpdateGraph","scheduleUpdateGraph","tryGraph","error","width","clientWidth","clientHeight","onUpdate","detail","Promise","resolve","reject","size","canvas","context","getContext","image","onload","drawImage","toBlob","onerror","btoa","alert","Blob","newWidth","newHeight"],"mappings":"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"}